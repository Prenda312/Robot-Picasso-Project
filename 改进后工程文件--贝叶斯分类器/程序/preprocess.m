%preprocess
[m,n,p]=size(X);
a=round(n/m*256);
p1=ones(256,a);
bw=im2bw(X,0.5);%转换成二值图像
%用矩形框截取图像
[i,j]=find(bw==0);
imin=min(i);
imax=max(i);
jmin=min(j);
jmax=max(j);
bw1=bw(imin:imax,jmin:jmax);
[x1,y1]=size(bw1);
%调整比例
rate=min((256/x1),(a/y1));%求取放大比率
bw1=imresize(bw1,rate);%按照比率放大
[i,j]=size(bw1);%求取行列数
i1=round((256-i)/2);%取整
j1=round((a-j)/2);
p1(i1+1:i1+i,j1+1:j1+j)=bw1;%图像从右向暂存
p1=-1.*p1+ones(256,a); 
%显示预处理的结果
axes(h2);
imshow(p1);
imwrite(p1,'testsave.jpg')
%使用256扩大像素格数，使得偏旁分开